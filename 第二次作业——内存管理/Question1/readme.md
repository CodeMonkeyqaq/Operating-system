# 动态分区分配方式的模拟

本项目是操作系统第二次大作业第一小问问题的解决方案

作者：1652977——王星洲



## 开发环境

语言：`C++`

IDE: `Visual Studio 2019`



## 运行方式

* 自行编译main.cpp文件或直接双击打开exe文件
* 自行选择任意算法并查看结果。
* 输入‘3’退出程序



## 问题背景

假设初始态下，可用内存空间为640K，并有下列请求序列，请分别用首次适应算法和最佳适应算法进行内存块的分配和回收，并显示出每次分配和回收后的空闲分区链的情况来。



## 题目要求

​		作业1申请130K

​		作业2申请60K

​        作业3申请100k

​        作业2释放60K

​        作业4申请200K

​        作业3释放100K

​        作业1释放130K

​        作业5申请140K

​        作业6申请60K

​        作业7申请50K

​        作业6释放60K



## 包含的结构

* struct node  //用于接收输入的作业
* struct partition //表示分区



## 主要属性

| 属性名            | 类型       | 备注                                |
| ----------------- | ---------- | ----------------------------------- |
| Partition.flag    | bool       | 分区的状态(true:已分配, false:空闲) |
| Partition.ID      | int        | 分区中存储的作业的ID，0为空闲       |
| Partition.size    | int        | 分区大小                            |
| Partition.address | int        | 分区起始地址                        |
| Partition.front   | Partition* | 分区的上联分区                      |
| Partition.next    | Partition* | 分区的下接分区                      |
| node.ID           | int        | 作业ID                              |
| node.size         | int        | 作业所占空间大小                    |



## 主要函数

| 函数名      | 参数                         | 返回值 | 备注                                                         |
| ----------- | ---------------------------- | ------ | ------------------------------------------------------------ |
| alloc()     | int method, int ID, int size | /      | 传入作业分配算法，ID及大小，负责分配作业到分区               |
| free()      | int ID                       | bool   | 传入作业ID，负责释放对应作业并验证是否进行分区合并，释放成功返回true，否则返回false |
| first_fit() | int ID, int size             | bool   | 采用首次适应算法分配内存，传入作业ID及大小，分配成功返回true，否则返回false |
| best_fit()  | int ID, int size             | bool   | 采用最佳适应算法分配内存，传入作业ID及大小，分配成功返回true，否则返回false |
| show()      | /                            | /      | 显示当前内存分配状态，在每次分配或释放结束后自动调用         |
| flow()      | int method                   | /      | 按照项目要求根据用户选择的分配算法进行流程部署               |
| init()      | /                            | /      | 为算法成功运行对分区进行初始化                               |
| menu()      | /                            | /      | 界面菜单                                                     |



如有任何问题，请联系 wxz00328@qq.com 或致电18916111729

祝好！